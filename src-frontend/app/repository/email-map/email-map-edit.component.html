<form
    (ngSubmit)="save()"
    #emailMapEditForm="ngForm"
>
    <md-input-container>
        <input
            mdInput
            [(ngModel)]="emailMap.login"
            required
            name="login"
        >
        <div mdPrefix>@</div>
        <md-hint
            *ngIf="error?.login"
            class="ErrorMessage"
        >
            {{ error.login }}
        </md-hint>
        <md-hint
            *ngIf="error?.non_field_errors"
            class="ErrorMessage"
        >
            {{ error.non_field_errors }}
        </md-hint>
    </md-input-container>
    <md-input-container>
        <input
            mdInput
            [(ngModel)]="emailMap.email"
            required
            name="email"
        >
        <md-hint
            *ngIf="error?.email"
            class="ErrorMessage"
        >
            {{ error.email }}
        </md-hint>
    </md-input-container>

    <span *ngIf="showSave()">
        <button
            md-icon-button
            type="submit"
            [disabled]="!emailMapEditForm.form.valid"
        >
            <md-icon>check</md-icon>
        </button>
        <button
            md-icon-button
            (click)="reset()"
            type="button"
        >
            <md-icon>undo</md-icon>
        </button>
    </span>
    <button
        *ngIf="!showSave()"
        md-icon-button
        (click)="delete()"
        type="button"
    >
        <md-icon>clear</md-icon>
    </button>
</form>
